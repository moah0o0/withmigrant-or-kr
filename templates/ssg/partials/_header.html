<!-- Navigation Header - Fixed at Top -->
<header class="fixed top-0 left-0 right-0 z-50">
    <div class="w-full max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-12 py-4">
        <!-- Desktop Navigation -->
        <div class="hidden md:flex items-center justify-between bg-white/70 backdrop-blur-xl px-6 py-3 rounded-full shadow-lg border border-white/50">
            <!-- Logo -->
            <a href="/" class="flex items-center gap-3 group">
                <img src="/static/images/logo.svg" alt="로고" class="h-7 w-auto">
            </a>

            <!-- Menu Items -->
            <nav class="flex items-center gap-2 text-sm font-bold">
                <a href="/intro.html" class="px-4 py-2 rounded-full transition-smooth {% if current_page == 'intro' %}text-primary bg-primary/10{% else %}text-dark-600 hover:text-dark-800 hover:bg-dark-800/5{% endif %}">소개</a>
                <a href="/notice/" class="px-4 py-2 rounded-full transition-smooth {% if current_page in ['notice_list', 'notice_detail'] %}text-primary bg-primary/10{% else %}text-dark-600 hover:text-dark-800 hover:bg-dark-800/5{% endif %}">공지</a>
                <a href="/activity/" class="px-4 py-2 rounded-full transition-smooth {% if current_page in ['activity_list', 'activity_detail'] %}text-primary bg-primary/10{% else %}text-dark-600 hover:text-dark-800 hover:bg-dark-800/5{% endif %}">활동후기</a>
                <a href="/newsletter/" class="px-4 py-2 rounded-full transition-smooth {% if current_page == 'newsletter_list' %}text-primary bg-primary/10{% else %}text-dark-600 hover:text-dark-800 hover:bg-dark-800/5{% endif %}">소식지</a>
                <a href="/donation.html" class="ml-2 bg-primary text-white font-bold px-5 py-2 rounded-full hover:bg-primary-dark transition-smooth">후원</a>
            </nav>
        </div>

        <!-- Mobile Navigation -->
        <div class="md:hidden flex items-center justify-between bg-white/70 backdrop-blur-xl px-4 py-3 rounded-full shadow-lg border border-white/50 cursor-pointer hover:bg-white/80 active:scale-[0.98] transition-all" id="mobile-menu-toggle" role="button" aria-label="메뉴 열기">
            <div class="flex items-center">
                <img src="/static/images/logo.svg" alt="로고" class="h-6 w-auto">
            </div>
            <div class="text-dark-500 p-2">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M4 6h16M4 12h16M4 18h16" stroke-linecap="round"/>
                </svg>
            </div>
        </div>
    </div>
</header>

<!-- Mobile Bottom Menu -->
<div id="mobile-menu-overlay" class="md:hidden fixed inset-0 z-[100] pointer-events-none opacity-0 transition-opacity duration-300">
    <div id="mobile-menu-backdrop" class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
    <div id="mobile-menu-container" class="absolute bottom-0 left-0 right-0 p-4 pb-8 transform translate-y-full transition-transform duration-300 ease-out">
        <div class="bg-white rounded-3xl p-6 max-w-md mx-auto shadow-xl">
            <nav class="grid grid-cols-4 gap-4">
                <!-- 홈 -->
                <a href="/" class="flex flex-col items-center gap-2 group">
                    <div class="w-14 h-14 rounded-2xl {% if current_page == 'index' %}bg-primary{% else %}bg-light-200{% endif %} flex items-center justify-center group-hover:scale-105 transition-transform">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="{% if current_page == 'index' %}white{% else %}#525252{% endif %}" stroke-width="2">
                            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                            <polyline points="9 22 9 12 15 12 15 22"/>
                        </svg>
                    </div>
                    <span class="text-xs text-dark-500">홈</span>
                </a>
                <!-- 소개 -->
                <a href="/intro.html" class="flex flex-col items-center gap-2 group">
                    <div class="w-14 h-14 rounded-2xl {% if current_page == 'intro' %}bg-primary{% else %}bg-light-200{% endif %} flex items-center justify-center group-hover:scale-105 transition-transform">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="{% if current_page == 'intro' %}white{% else %}#525252{% endif %}" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <path d="M12 16v-4M12 8h.01"/>
                        </svg>
                    </div>
                    <span class="text-xs text-dark-500">소개</span>
                </a>
                <!-- 공지 -->
                <a href="/notice/" class="flex flex-col items-center gap-2 group">
                    <div class="w-14 h-14 rounded-2xl {% if current_page in ['notice_list', 'notice_detail'] %}bg-primary{% else %}bg-light-200{% endif %} flex items-center justify-center group-hover:scale-105 transition-transform">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="{% if current_page in ['notice_list', 'notice_detail'] %}white{% else %}#525252{% endif %}" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14 2 14 8 20 8"/>
                            <line x1="16" y1="13" x2="8" y2="13"/>
                            <line x1="16" y1="17" x2="8" y2="17"/>
                        </svg>
                    </div>
                    <span class="text-xs text-dark-500">공지</span>
                </a>
                <!-- 활동 -->
                <a href="/activity/" class="flex flex-col items-center gap-2 group">
                    <div class="w-14 h-14 rounded-2xl {% if current_page in ['activity_list', 'activity_detail'] %}bg-primary{% else %}bg-light-200{% endif %} flex items-center justify-center group-hover:scale-105 transition-transform">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="{% if current_page in ['activity_list', 'activity_detail'] %}white{% else %}#525252{% endif %}" stroke-width="2">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                            <circle cx="8.5" cy="8.5" r="1.5"/>
                            <polyline points="21 15 16 10 5 21"/>
                        </svg>
                    </div>
                    <span class="text-xs text-dark-500">활동</span>
                </a>
                <!-- 소식지 -->
                <a href="/newsletter/" class="flex flex-col items-center gap-2 group">
                    <div class="w-14 h-14 rounded-2xl {% if current_page == 'newsletter_list' %}bg-primary{% else %}bg-light-200{% endif %} flex items-center justify-center group-hover:scale-105 transition-transform">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="{% if current_page == 'newsletter_list' %}white{% else %}#525252{% endif %}" stroke-width="2">
                            <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                            <polyline points="22,6 12,13 2,6"/>
                        </svg>
                    </div>
                    <span class="text-xs text-dark-500">소식지</span>
                </a>
                <!-- 후원 -->
                <a href="/donation.html" class="flex flex-col items-center gap-2 group">
                    <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-primary to-accent flex items-center justify-center group-hover:scale-105 transition-transform">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                            <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                        </svg>
                    </div>
                    <span class="text-xs text-dark-500">후원</span>
                </a>
            </nav>
            <button id="mobile-menu-close" class="mt-6 w-full py-3 rounded-2xl bg-light-200 text-dark-600 text-sm hover:bg-light-300 transition-smooth">
                닫기
            </button>
        </div>
    </div>
</div>

<!-- Spacer for fixed header -->
<div class="h-[72px] md:h-[80px]"></div>

<script>
(function() {
    var menuToggle = document.getElementById('mobile-menu-toggle');
    var menuOverlay = document.getElementById('mobile-menu-overlay');
    var menuBackdrop = document.getElementById('mobile-menu-backdrop');
    var menuContainer = document.getElementById('mobile-menu-container');
    var menuClose = document.getElementById('mobile-menu-close');
    if (!menuToggle || !menuOverlay || !menuContainer) return;
    function openMenu() {
        menuOverlay.classList.remove('pointer-events-none', 'opacity-0');
        menuOverlay.classList.add('pointer-events-auto', 'opacity-100');
        menuContainer.classList.remove('translate-y-full');
        menuContainer.classList.add('translate-y-0');
        document.body.style.overflow = 'hidden';
    }
    function closeMenu() {
        menuOverlay.classList.add('opacity-0');
        menuContainer.classList.add('translate-y-full');
        menuContainer.classList.remove('translate-y-0');
        setTimeout(function() {
            menuOverlay.classList.add('pointer-events-none');
            menuOverlay.classList.remove('pointer-events-auto', 'opacity-100');
            document.body.style.overflow = '';
        }, 300);
    }
    menuToggle.addEventListener('click', openMenu);
    menuClose?.addEventListener('click', closeMenu);
    menuBackdrop?.addEventListener('click', closeMenu);
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && !menuOverlay.classList.contains('pointer-events-none')) {
            closeMenu();
        }
    });
})();
</script>
