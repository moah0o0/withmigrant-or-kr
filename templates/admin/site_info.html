{% extends 'admin/base.html' %}

{% block title %}ì‚¬ì´íŠ¸ ì •ë³´{% endblock %}

{% block breadcrumb %}
<span class="text-notion-text-secondary">ì‚¬ì´íŠ¸ ì„¤ì •</span>
<span class="mx-2 text-notion-text-muted">/</span>
<span class="text-notion-text font-medium">ì‚¬ì´íŠ¸ ì •ë³´</span>
{% endblock %}

{% block content %}
<form method="POST" class="max-w-3xl">
    <!-- í—¤ë” -->
    <div class="flex items-center justify-between mb-6">
        <h1 class="text-xl font-semibold text-notion-text">ì‚¬ì´íŠ¸ ì •ë³´</h1>
        <button type="submit" class="btn-notion btn-primary">ì €ì¥</button>
    </div>

    <div class="space-y-6">
        <!-- ê¸°ë³¸ ì •ë³´ -->
        <div class="card-notion p-6">
            <h2 class="font-medium text-notion-text mb-4 pb-2 border-b border-notion-border flex items-center gap-2">
                <span>ğŸ </span> ê¸°ë³¸ ì •ë³´
            </h2>
            <div class="space-y-4">
                <div class="grid md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-notion-text mb-1">ë‹¨ì²´ëª…</label>
                        <input type="text" name="org_name" value="{{ info.org_name if info else '' }}"
                               placeholder="ì‚¬ë‹¨ë²•ì¸ í•¨ê»˜í•˜ëŠ”ì„¸ìƒ"
                               class="input-notion">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-notion-text mb-1">ì‚¬ì´íŠ¸ëª…</label>
                        <input type="text" name="site_name" value="{{ info.site_name if info else '' }}"
                               placeholder="ì–‘ì‚°ì™¸êµ­ì¸ë…¸ë™ìì˜ì§‘"
                               class="input-notion">
                    </div>
                </div>

                <div>
                    <label class="block text-sm font-medium text-notion-text mb-1">ìŠ¬ë¡œê±´</label>
                    <input type="text" name="slogan" value="{{ info.slogan if info else '' }}"
                           placeholder="ëª¨ë“  ì´ì£¼ë¯¼ì´ ì¡´ì—„í•˜ê²Œ ì‚´ì•„ê°€ëŠ” ì„¸ìƒ"
                           class="input-notion">
                </div>

                <div>
                    <label class="block text-sm font-medium text-notion-text mb-1">ì†Œê°œ ë¬¸êµ¬</label>
                    <textarea name="intro_text" rows="3"
                              placeholder="ë‹¨ì²´ì— ëŒ€í•œ ê°„ë‹¨í•œ ì†Œê°œ..."
                              class="input-notion">{{ info.intro_text if info else '' }}</textarea>
                </div>
            </div>
        </div>

        <!-- ì†Œê°œ í˜ì´ì§€ -->
        <div class="card-notion p-6">
            <h2 class="font-medium text-notion-text mb-4 pb-2 border-b border-notion-border flex items-center gap-2">
                <span>ğŸ“„</span> ì†Œê°œ í˜ì´ì§€
            </h2>
            <p class="text-sm text-notion-text-secondary mb-4">ì†Œê°œ í˜ì´ì§€ì— í‘œì‹œë˜ëŠ” ê°€ì¹˜, ë¹„ì „ ë¬¸êµ¬ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.</p>
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-notion-text mb-1">ê°€ì¹˜</label>
                    <textarea name="vision_text" rows="3"
                              placeholder="ê³ í–¥ê³¼ ê°€ì¡±ì„ ë– ë‚˜ ë‚¯ì„  ì´êµ­ë•…ì—ì„œ ê¿ˆì„ í‚¤ìš°ë©° ì‚´ì•„ê°€ëŠ” ì´ì£¼ë¯¼ë“¤ê³¼ í•¨ê»˜..."
                              class="input-notion">{{ info.vision_text if info else '' }}</textarea>
                </div>
                <div>
                    <label class="block text-sm font-medium text-notion-text mb-1">ë¹„ì „</label>
                    <textarea name="mission_text" rows="3"
                              placeholder="ëª¨ë“  ì´ì£¼ë¯¼ì´ ì¡´ì—„í•˜ê²Œ ì‚´ì•„ê°€ëŠ” ì„¸ìƒ"
                              class="input-notion">{{ info.mission_text if info else '' }}</textarea>
                </div>
            </div>
        </div>

        <!-- ì—°ë½ì²˜ -->
        <div class="card-notion p-6">
            <h2 class="font-medium text-notion-text mb-4 pb-2 border-b border-notion-border flex items-center gap-2">
                <span>ğŸ“</span> ì—°ë½ì²˜
            </h2>
            <div class="space-y-4">
                <div class="grid md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-notion-text mb-1">ëŒ€í‘œì</label>
                        <input type="text" name="representative" value="{{ info.representative if info else '' }}"
                               placeholder="í™ê¸¸ë™"
                               class="input-notion">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-notion-text mb-1">ì´ë©”ì¼</label>
                        <input type="email" name="email" value="{{ info.email if info else '' }}"
                               placeholder="info@example.org"
                               class="input-notion">
                    </div>
                </div>

                <div class="grid md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-notion-text mb-1">ì „í™”ë²ˆí˜¸</label>
                        <input type="tel" name="tel" value="{{ info.tel if info else '' }}"
                               placeholder="055-123-4567"
                               class="input-notion">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-notion-text mb-1">íŒ©ìŠ¤</label>
                        <input type="tel" name="fax" value="{{ info.fax if info else '' }}"
                               placeholder="055-123-4568"
                               class="input-notion">
                    </div>
                </div>

                <div>
                    <label class="block text-sm font-medium text-notion-text mb-1">ì£¼ì†Œ</label>
                    <input type="text" name="address" value="{{ info.address if info else '' }}"
                           placeholder="ê²½ìƒë‚¨ë„ ì–‘ì‚°ì‹œ ..."
                           class="input-notion">
                </div>
            </div>
        </div>

        <!-- ë¡œê³  í…ìŠ¤íŠ¸ ìƒ‰ìƒ -->
        <div class="card-notion p-6">
            <h2 class="font-medium text-notion-text mb-4 pb-2 border-b border-notion-border flex items-center gap-2">
                ğŸ¨ ë¡œê³  í…ìŠ¤íŠ¸ ìƒ‰ìƒ
            </h2>
            <p class="text-sm text-notion-text-secondary mb-4">ë„¤ë¹„ê²Œì´ì…˜ ë°”ì— í‘œì‹œë˜ëŠ” ë¡œê³  í…ìŠ¤íŠ¸ì˜ ìƒ‰ìƒì„ ë³€ê²½í•©ë‹ˆë‹¤. ì €ì¥ í›„ ë¹Œë“œí•˜ë©´ ì‚¬ì´íŠ¸ì— ë°˜ì˜ë©ë‹ˆë‹¤.</p>
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-notion-text mb-2">ìƒ‰ìƒ ì„ íƒ</label>
                    <div class="flex items-center gap-3">
                        <input type="color" name="logo_text_color" id="logo-color-picker"
                               value="{{ info.logo_text_color if info and info.logo_text_color else '#3a1671' }}"
                               class="w-12 h-10 rounded border border-notion-border cursor-pointer">
                        <input type="text" id="logo-color-text"
                               value="{{ info.logo_text_color if info and info.logo_text_color else '#3a1671' }}"
                               class="input-notion flex-1" readonly>
                    </div>
                </div>
                <div>
                    <p class="text-xs text-notion-text-secondary mb-2">ë¸Œëœë“œ í”„ë¦¬ì…‹ (ë¡œê³  ì•„ì´ì½˜ì—ì„œ ì¶”ì¶œí•œ ìƒ‰ìƒ)</p>
                    <div class="flex gap-3 flex-wrap">
                        {% set preset_colors = [
                            ('#3A1671', 'ë³´ë¼'),
                            ('#F29F33', 'ì£¼í™©'),
                            ('#4A90E2', 'íŒŒë‘'),
                            ('#528D4E', 'ì´ˆë¡'),
                            ('#C2410C', 'ê°ˆìƒ‰'),
                            ('#000000', 'ê²€ì •')
                        ] %}
                        {% for color, name in preset_colors %}
                        <button type="button" onclick="setLogoColor('{{ color }}')"
                                class="flex flex-col items-center gap-1 group" title="{{ name }} ({{ color }})">
                            <span class="w-10 h-10 rounded-full border-2 border-transparent group-hover:border-notion-text transition-all group-hover:scale-110"
                                  style="background-color: {{ color }}"></span>
                            <span class="text-[10px] text-notion-text-muted">{{ name }}</span>
                        </button>
                        {% endfor %}
                    </div>
                </div>
                <div>
                    <p class="text-xs text-notion-text-secondary mb-2">ë¯¸ë¦¬ë³´ê¸°</p>
                    <div class="bg-white rounded-lg border border-notion-border p-4 flex items-center gap-3">
                        <img src="/static/images/logo.svg" alt="" class="h-8 w-auto">
                        <span id="logo-text-preview"
                              style="display:inline-block; height:1.75rem; aspect-ratio:317/72;
                                     background-color: {{ info.logo_text_color if info and info.logo_text_color else '#3a1671' }};
                                     -webkit-mask-image:url('/static/images/logo-text-black.svg');
                                     -webkit-mask-size:contain; -webkit-mask-repeat:no-repeat;
                                     mask-image:url('/static/images/logo-text-black.svg');
                                     mask-size:contain; mask-repeat:no-repeat;"></span>
                    </div>
                </div>
            </div>
        </div>

        <!-- í›„ì› ê³„ì¢Œ -->
        <div class="card-notion p-6">
            <h2 class="font-medium text-notion-text mb-4 pb-2 border-b border-notion-border flex items-center gap-2">
                ğŸ’³ í›„ì› ê³„ì¢Œ
            </h2>
            <div class="grid md:grid-cols-3 gap-4">
                <div>
                    <label class="block text-sm font-medium text-notion-text mb-1">ì€í–‰ëª…</label>
                    <input type="text" name="bank_name" value="{{ info.bank_name if info else '' }}"
                           placeholder="ë†í˜‘"
                           class="input-notion">
                </div>
                <div>
                    <label class="block text-sm font-medium text-notion-text mb-1">ê³„ì¢Œë²ˆí˜¸</label>
                    <input type="text" name="bank_account" value="{{ info.bank_account if info else '' }}"
                           placeholder="123-4567-8901-23"
                           class="input-notion">
                </div>
                <div>
                    <label class="block text-sm font-medium text-notion-text mb-1">ì˜ˆê¸ˆì£¼</label>
                    <input type="text" name="bank_holder" value="{{ info.bank_holder if info else '' }}"
                           placeholder="ì‚¬ë‹¨ë²•ì¸ í•¨ê»˜í•˜ëŠ”ì„¸ìƒ"
                           class="input-notion">
                </div>
            </div>
        </div>

    </div>

    <!-- ì €ì¥ ë²„íŠ¼ (í•˜ë‹¨) -->
    <div class="mt-6 flex justify-end">
        <button type="submit" class="btn-notion btn-primary">ì €ì¥</button>
    </div>
</form>

<script>
function setLogoColor(color) {
    document.getElementById('logo-color-picker').value = color;
    document.getElementById('logo-color-text').value = color;
    document.getElementById('logo-text-preview').style.backgroundColor = color;
}

document.getElementById('logo-color-picker').addEventListener('input', function() {
    document.getElementById('logo-color-text').value = this.value;
    document.getElementById('logo-text-preview').style.backgroundColor = this.value;
});
</script>
{% endblock %}
